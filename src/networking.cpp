#pragma once
#include "networking.h"
networking::networking(int * requestCounterLocation, dataVectorType * ownVectorInput, optionsClass * optionsInput, pthread_t * workerThread) {
    ownVector = ownVectorInput;
    options = optionsInput;
    counterWaitingRequests = requestCounterLocation;
    curl = curl_easy_init();
    if (!curl) {
        fprintf(stderr, "%s\n", "failed to init curl");
    };


    // std::cout << j << std::endl;

    if (int iret1 = pthread_create(&thread1, NULL, _start, reinterpret_cast<void *>(this))) /*Threading magic*/
    {
        fprintf(stderr, "Error - pthread_create() return code: %d\n", iret1);
        exit(EXIT_FAILURE);
    }
    workerThread = &thread1;
};
networking::~networking() {
    curl_easy_cleanup(curl);

    output.clear();
}
void * networking::_start(void * that) {
    fprintf(stderr, "%s\n", "starting networking in another thread");
    return (reinterpret_cast<networking *>(that))->Loop();
}


int networking::request(requestEntity * entity) {
    this->method = options->networking->hostname + entity->getUrl();
    printf("%s\n", method.c_str());
    /*    setup();
        res = curl_easy_perform(curl);
        printf("%s\t\n", output.c_str());//, curl_easy_strerror(res));
        if (res != CURLE_OK)
            fprintf(stderr, "curl_easy_perform() failed: %s\n",
                    curl_easy_strerror(res));*/
    method = "{\"response\":[{\"uid\":33476,\"first_name\":\"Екатерина\",\"last_name\":\"Захарова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624726\\/v624726476\\/2464e\\/DfoXg_DMxSQ.jpg\",\"online\":0,\"status\":\"This moment, we own it\",\"last_seen\":{\"time\":1448035024,\"platform\":4},\"user_id\":33476},{\"uid\":227648,\"first_name\":\"Александр\",\"last_name\":\"Тюхай\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625819\\/v625819648\\/3ff73\\/qWYTbBn7WhE.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448025124,\"platform\":7},\"user_id\":227648},{\"uid\":1151226,\"first_name\":\"Инна\",\"last_name\":\"Вяземская\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628817\\/v628817226\\/20761\\/oDudC_IsIF4.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448033682,\"platform\":4},\"user_id\":1151226},{\"uid\":1174953,\"first_name\":\"Максим\",\"last_name\":\"Мамулин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c11257\\/u1174953\\/a_855671ea.jpg\",\"online\":0,\"status\":\"В нашем мире есть только одна постоянная величина - это Любовь, всё остальное - мираж!\",\"last_seen\":{\"time\":1447492926,\"platform\":4},\"user_id\":1174953},{\"uid\":1245631,\"first_name\":\"Кирилл\",\"last_name\":\"Симаков\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c5810\\/v5810631\\/803\\/hAh1Xw4wmFY.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035516,\"platform\":2},\"user_id\":1245631},{\"uid\":1334028,\"first_name\":\"Ирина\",\"last_name\":\"Павлова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622527\\/v622527028\\/49aee\\/qyiqfCZ6XS0.jpg\",\"online\":0,\"status\":\"В Свете Любви мы Целы... в Свете Любви мы Дома...\",\"last_seen\":{\"time\":1448033391,\"platform\":4},\"user_id\":1334028},{\"uid\":1476886,\"first_name\":\"Александр\",\"last_name\":\"Рогозин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629405\\/v629405886\\/1277b\\/-pluayPwvhc.jpg\",\"online\":0,\"status\":\"www.realcapoeira.ru Набор в группы для начинающих!\",\"last_seen\":{\"time\":1448029489,\"platform\":2},\"user_id\":1476886},{\"uid\":1584856,\"first_name\":\"Леван\",\"last_name\":\"Кавтарадзе\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c623722\\/v623722856\\/3fc71\\/7JsNkQgL4Lo.jpg\",\"online\":0,\"status\":\"— Вы утверждаете, что человек может поднять себя за волосы? — Обязательно! Мыслящий человек просто обязан время от времени это делать. (с)\",\"last_seen\":{\"time\":1448034352,\"platform\":7},\"universities\":[{\"id\":250,\"country\":1,\"city\":1,\"name\":\"МГТУ им. Н. Э. Баумана\",\"faculty\":1033,\"faculty_name\":\"Информатики и систем управления\\r\\n\",\"chair\":1896,\"chair_name\":\"Компьютерные системы и сети (ИУ6, Вычислительные машины, комплексы, системы и сети)\",\"graduation\":2006,\"education_form\":\"Дневное отделение\"},{\"id\":250,\"country\":1,\"city\":1,\"name\":\"МГТУ им. Н. Э. Баумана\",\"faculty\":1032,\"faculty_name\":\"Инженерного бизнеса и менеджмента\\r\\n\",\"chair\":698533,\"chair_name\":\"Предпринимательство и внешнеэкономическая деятельность (ИБМ-6)\",\"graduation\":2007,\"education_form\":\"Вечернее отделение\",\"education_status\":\"Выпускник (специалист)\"},{\"id\":329,\"country\":1,\"city\":1,\"name\":\"РГАИС (бывш. РГИИС)\",\"faculty\":1461,\"faculty_name\":\"Управления интеллектуальной собственностью (бывш. Экономики и менеджмента)\",\"chair\":1823748,\"chair_name\":\"Управления инновациями и коммерциализации интеллектуальной собственности\",\"graduation\":2009,\"education_form\":\"Вечернее отделение\",\"education_status\":\"Аспирант\"},{\"id\":128,\"country\":1,\"city\":1,\"name\":\"НИУ ВШЭ (ГУ-ВШЭ)\",\"faculty\":2185499,\"faculty_name\":\"Высшая школа управления проектами\",\"graduation\":2015,\"education_form\":\"Вечернее отделение\",\"education_status\":\"Студент (специалист)\"}],\"user_id\":1584856},{\"uid\":1689060,\"first_name\":\"Рафаэль\",\"last_name\":\"Мухетдинов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c320321\\/v320321060\\/1aad\\/72hWjmvxBdE.jpg\",\"online\":0,\"status\":\"Twenty years from now u will be more disappointed by the things u didn't do than by the ones u did do. Explore. Dream. Discover.\",\"last_seen\":{\"time\":1448034293,\"platform\":2},\"user_id\":1689060},{\"uid\":1709778,\"first_name\":\"Юлец\",\"last_name\":\"Демидова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c618116\\/v618116778\\/9a9f\\/hYbgnTq-mNY.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448032964,\"platform\":1},\"user_id\":1709778},{\"uid\":1773605,\"first_name\":\"Виктор\",\"last_name\":\"Загвоскин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628518\\/v628518605\\/f201\\/YMjERsABgo4.jpg\",\"online\":1,\"status\":\"Упорность и упоротость!!!\",\"last_seen\":{\"time\":1448036086,\"platform\":7},\"user_id\":1773605},{\"uid\":1815685,\"first_name\":\"Тимур\",\"last_name\":\"Рогозин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625220\\/v625220685\\/30f48\\/Zj03O3HUmtk.jpg\",\"online\":0,\"status\":\"В Ростове-на-Дону до 23 ноября, Capoeira event!\",\"last_seen\":{\"time\":1448028736,\"platform\":4},\"universities\":[{\"id\":216,\"country\":1,\"city\":1,\"name\":\"Мирбис\",\"faculty\":2255,\"faculty_name\":\"Финансы и кредит\",\"chair\":439549,\"chair_name\":\"Международных и корпоративных финансов\",\"graduation\":2011,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (специалист)\"},{\"id\":326,\"country\":1,\"city\":1,\"name\":\"РЭУ им. Г. В. Плеханова\",\"faculty\":9302,\"faculty_name\":\"Финансовый\",\"chair\":2189,\"chair_name\":\"Финансов и цен\",\"graduation\":2011,\"education_form\":\"Дневное отделение\",\"education_status\":\"Выпускник (специалист)\"}],\"user_id\":1815685},{\"uid\":1957483,\"first_name\":\"Оскар\",\"last_name\":\"Тахавиев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622923\\/v622923483\\/42773\\/bILp5cKxSjc.jpg\",\"online\":0,\"status\":\"В пору цветения... Вишни сродни облакам... Не потому ли... Стала просторней душа... Словно весеннее небо...\",\"last_seen\":{\"time\":1448035846,\"platform\":4},\"universities\":[{\"id\":527,\"country\":1,\"city\":60,\"name\":\"КФУ (бывш. КГУ им. Ульянова-Ленина)\",\"faculty\":2766,\"faculty_name\":\"Институт управления, экономики и финансов (бывш. ИЭФ, ИУТР)\",\"chair\":1859000,\"chair_name\":\"Денег и ценных бумаг\",\"graduation\":2000,\"education_form\":\"Дневное отделение\",\"education_status\":\"Выпускник (бакалавр)\"},{\"id\":535,\"country\":1,\"city\":60,\"name\":\"ИЭУиП\\r\\n\",\"faculty\":16593,\"faculty_name\":\"Психологический\",\"chair\":1866839,\"chair_name\":\"Общей психологии\",\"graduation\":2002,\"education_form\":\"Дневное отделение\",\"education_status\":\"Выпускник (специалист)\"}],\"user_id\":1957483},{\"uid\":2171659,\"first_name\":\"Егор\",\"last_name\":\"Котов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629427\\/v629427659\\/12c61\\/Ng1TbbRhyYA.jpg\",\"online\":0,\"status\":\"The song of the Golden Dragon.\",\"last_seen\":{\"time\":1448034578,\"platform\":7},\"universities\":[],\"user_id\":2171659},{\"uid\":2230481,\"first_name\":\"Anabel\",\"last_name\":\"Tribal\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627121\\/v627121481\\/24108\\/mT-ghweGHDg.jpg\",\"online\":0,\"status\":\"Таково уж взаимовоздействие музыки и темноты, ибо их вкрадчивость елейно промывает и перевязывает душу.©\",\"last_seen\":{\"time\":1448030315,\"platform\":4},\"user_id\":2230481},{\"uid\":2486723,\"first_name\":\"Мария\",\"last_name\":\"Мрыль\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629130\\/v629130723\\/29bf8\\/GcU2GgP1i70.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448031936,\"platform\":4},\"user_id\":2486723},{\"uid\":3370663,\"first_name\":\"Juliette\",\"last_name\":\"Way\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622625\\/v622625663\\/52af8\\/AQgWHnVhiAk.jpg\",\"online\":0,\"status\":\"🌿Elf, who got lost in the people world...🌿\",\"last_seen\":{\"time\":1448033290,\"platform\":7},\"user_id\":3370663},{\"uid\":3847095,\"first_name\":\"Стас\",\"last_name\":\"Глебов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c419118\\/v419118095\\/8516\\/19t-lwiFycs.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"Sometimes, even if you know how something's going to end, that doesn't mean you can't enjoy the ride.\",\"last_seen\":{\"time\":1448036137,\"platform\":4},\"user_id\":3847095},{\"uid\":5177279,\"first_name\":\"Арсений\",\"last_name\":\"Бетехтин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628220\\/v628220279\\/201bc\\/dV9I8K7h9PY.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448035298,\"platform\":4},\"universities\":[{\"id\":13981,\"country\":1,\"city\":1,\"name\":\"МГЛИ\",\"faculty\":2148881,\"faculty_name\":\"Театра и кино\",\"chair\":1812013,\"chair_name\":\"Театра и кино\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Абитуриент\"}],\"user_id\":5177279},{\"uid\":5240583,\"first_name\":\"Егор\",\"last_name\":\"Матвеев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c623318\\/v623318583\\/18aba\\/pqIsdplnEoM.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035835,\"platform\":2},\"user_id\":5240583},{\"uid\":5285527,\"first_name\":\"Дима\",\"last_name\":\"Королев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628526\\/v628526527\\/1ce53\\/xMh02N85EFo.jpg\",\"online\":0,\"status\":\"Набор в группы капоэйра с 4 лет! ЮЗР и Центр. Тел.: 8-963-888-18-38\",\"last_seen\":{\"time\":1448030040,\"platform\":7},\"universities\":[{\"id\":555,\"country\":1,\"city\":66,\"name\":\"ВятГУ (бывш. ВятГТУ, КирПИ)\",\"graduation\":2010,\"education_form\":\"Дневное отделение\"}],\"user_id\":5285527},{\"uid\":5369774,\"first_name\":\"Михаил\",\"last_name\":\"Сизихин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625322\\/v625322774\\/3f121\\/3Rr485jLb8A.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"Преподаю капоэйру детям и взрослым. Пишите в личку, если хотите заниматься\",\"last_seen\":{\"time\":1448036001,\"platform\":4},\"universities\":[{\"id\":730,\"country\":1,\"city\":110,\"name\":\"ПГНИУ (ПГУ)\",\"faculty\":3190,\"faculty_name\":\"Философско-социологический\",\"chair\":7212,\"chair_name\":\"Истории философии\",\"graduation\":2014,\"education_form\":\"Дневное отделение\"}],\"user_id\":5369774},{\"uid\":5611837,\"first_name\":\"Александр\",\"last_name\":\"Разгулов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c608527\\/v608527837\\/2a6f\\/flePZ3zrMpA.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448019334,\"platform\":2},\"user_id\":5611837},{\"uid\":5780099,\"first_name\":\"Александр\",\"last_name\":\"Шальнев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c543106\\/v543106099\\/b2f6\\/yPu1oZLQhW4.jpg\",\"online\":0,\"status\":\"It's pzdc~\",\"last_seen\":{\"time\":1448028300,\"platform\":1},\"universities\":[],\"user_id\":5780099},{\"uid\":5911198,\"first_name\":\"Пётр\",\"last_name\":\"Котелевский\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c608220\\/v608220198\\/2af6\\/h5UxhamgsA4.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"Live the moment... (с) СM Cueca\",\"last_seen\":{\"time\":1448036099,\"platform\":4},\"universities\":[],\"user_id\":5911198},{\"uid\":6691431,\"first_name\":\"Алексей\",\"last_name\":\"Кислицын\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622726\\/v622726431\\/5c470\\/98VlGn4u9Hc.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448026443,\"platform\":7},\"user_id\":6691431,\"lists\":[25]},{\"uid\":6862460,\"first_name\":\"Ада\",\"last_name\":\"Париева\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625322\\/v625322460\\/538ca\\/APmUERAc0JI.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034202,\"platform\":4},\"universities\":[{\"id\":328,\"country\":1,\"city\":1,\"name\":\"РГГУ\"}],\"user_id\":6862460},{\"uid\":7044104,\"first_name\":\"Андрей\",\"last_name\":\"Беляев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c616429\\/v616429104\\/2221d\\/dsrVuDVy7DI.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034462,\"platform\":2},\"universities\":[{\"id\":2,\"country\":1,\"city\":1,\"name\":\"МГУ\",\"faculty\":23,\"faculty_name\":\"Вычислительной математики и кибернетики\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (бакалавр)\"}],\"user_id\":7044104,\"lists\":[25]},{\"uid\":7110446,\"first_name\":\"Владимир\",\"last_name\":\"Родионов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c623619\\/v623619446\\/c9ae\\/5mSrIBszRpU.jpg\",\"online\":0,\"status\":\"Instagram: _prostovova\",\"last_seen\":{\"time\":1448027643,\"platform\":2},\"universities\":[{\"id\":2,\"country\":1,\"city\":1,\"name\":\"МГУ\",\"faculty\":23,\"faculty_name\":\"Вычислительной математики и кибернетики\"},{\"id\":250,\"country\":1,\"city\":1,\"name\":\"МГТУ им. Н. Э. Баумана\",\"faculty\":1033,\"faculty_name\":\"Информатики и систем управления\\r\\n\"}],\"user_id\":7110446,\"lists\":[25]},{\"uid\":8090743,\"first_name\":\"Леха\",\"last_name\":\"Федотов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627128\\/v627128743\\/1a21d\\/IKmzZTuuk9g.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448022850,\"platform\":1},\"user_id\":8090743},{\"uid\":8646845,\"first_name\":\"Мася\",\"last_name\":\"Симбирцева\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c411729\\/v411729845\\/9e5b\\/x6fDe1Cbf9Y.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034745,\"platform\":4},\"universities\":[{\"id\":128,\"country\":1,\"city\":1,\"name\":\"НИУ ВШЭ (ГУ-ВШЭ)\",\"faculty\":484,\"faculty_name\":\"Экономических наук\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студентка (бакалавр)\"}],\"user_id\":8646845},{\"uid\":9223922,\"first_name\":\"Алексей\",\"last_name\":\"Цуканов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624324\\/v624324922\\/28323\\/gvNcKBHmVfI.jpg\",\"online\":0,\"status\":\"Просвещенный атеизм во славу сатанизма.\",\"last_seen\":{\"time\":1448033184,\"platform\":4},\"user_id\":9223922},{\"uid\":9677325,\"first_name\":\"Катерина\",\"last_name\":\"Жилова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629500\\/v629500325\\/21258\\/mIaY9JPtKSQ.jpg\",\"online\":1,\"status\":\"\",\"last_seen\":{\"time\":1448036039,\"platform\":7},\"user_id\":9677325,\"lists\":[25]},{\"uid\":11038345,\"first_name\":\"Константин\",\"last_name\":\"Забродин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625730\\/v625730345\\/382e4\\/b_pah8jD04s.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448036139,\"platform\":4},\"universities\":[],\"user_id\":11038345},{\"uid\":12605705,\"first_name\":\"Оля\",\"last_name\":\"Дикан\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622830\\/v622830705\\/48b02\\/vcC4hg0ux-s.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448028301,\"platform\":4},\"universities\":[{\"id\":240,\"country\":1,\"city\":1,\"name\":\"МИЭМ НИУ ВШЭ\",\"faculty\":2149353,\"faculty_name\":\"Департамент прикладной математики (бывш. Прикладной математики и кибернетики)\",\"education_form\":\"Дневное отделение\",\"education_status\":\"Студентка (бакалавр)\"}],\"user_id\":12605705},{\"uid\":12741348,\"first_name\":\"Даниил\",\"last_name\":\"Павлов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627319\\/v627319348\\/21b10\\/V9GSu3ppHCA.jpg\",\"online\":0,\"status\":\"Жизнь на всю любовь = бесконечность )))\",\"last_seen\":{\"time\":1448012211,\"platform\":7},\"universities\":[{\"id\":573,\"country\":1,\"city\":1,\"name\":\"КубГТУ\",\"faculty\":8701,\"faculty_name\":\"Экономики, управления и бизнеса\",\"chair\":863023,\"chair_name\":\"Экономики и управления производством\",\"education_form\":\"Заочное отделение\",\"education_status\":\"Выпускник (специалист)\"}],\"user_id\":12741348},{\"uid\":13073578,\"first_name\":\"Антон\",\"last_name\":\"Каретников\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629110\\/v629110578\\/112b5\\/Mz08F-FXPJk.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448026300,\"platform\":7},\"universities\":[{\"id\":189,\"country\":1,\"city\":1,\"name\":\"МАТИ\",\"faculty\":2600,\"faculty_name\":\"Институт материаловедения и технологий материалов\",\"chair\":1877440,\"chair_name\":\"Управление качеством и сертификация\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (бакалавр)\"}],\"user_id\":13073578},{\"uid\":13604455,\"first_name\":\"Миша\",\"last_name\":\"Данилов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622816\\/v622816455\\/57291\\/08e7aJ-yFgQ.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034799,\"platform\":2},\"user_id\":13604455},{\"uid\":13639042,\"first_name\":\"Ярослав\",\"last_name\":\"Русанов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622631\\/v622631042\\/25104\\/AXiTbfQToa8.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034944,\"platform\":2},\"user_id\":13639042},{\"uid\":13711368,\"first_name\":\"Екатерина\",\"last_name\":\"Жданова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628222\\/v628222368\\/26839\\/-LuAuEewJ_w.jpg\",\"online\":0,\"status\":\"То, что делает нас счастливым, не может быть названо иллюзией.  Гете\",\"last_seen\":{\"time\":1448032213,\"platform\":2},\"user_id\":13711368},{\"uid\":13907638,\"first_name\":\"Дима\",\"last_name\":\"Маркин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/cs7064.vk.me\\/c625224\\/v625224638\\/3a110\\/MIaMCwdbC0k.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035567,\"platform\":2},\"user_id\":13907638,\"lists\":[25]},{\"uid\":14155900,\"first_name\":\"Илина\",\"last_name\":\"Бровкова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622127\\/v622127900\\/3f03a\\/wVpmYhJA5hQ.jpg\",\"online\":0,\"status\":\"я слышал, что время стирает всё\",\"last_seen\":{\"time\":1448008866,\"platform\":1},\"user_id\":14155900},{\"uid\":14875358,\"first_name\":\"Макс\",\"last_name\":\"Захаров\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c618528\\/v618528358\\/2583\\/TN6Lz5MBvAk.jpg\",\"online\":0,\"status\":\"punk's not dead\",\"last_seen\":{\"time\":1447974210,\"platform\":7},\"universities\":[],\"user_id\":14875358},{\"uid\":15314320,\"first_name\":\"Даниил\",\"last_name\":\"Горбачев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622326\\/v622326320\\/46c0c\\/y_WIrgRRpaA.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034284,\"platform\":7},\"universities\":[{\"id\":2,\"country\":1,\"city\":1,\"name\":\"МГУ\",\"faculty\":23,\"faculty_name\":\"Вычислительной математики и кибернетики\",\"graduation\":2016}],\"user_id\":15314320},{\"uid\":15962803,\"first_name\":\"Виталий\",\"last_name\":\"Гутев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c620920\\/v620920803\\/1bfa8\\/_2Cwyn3-wNI.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448035211,\"platform\":7},\"user_id\":15962803},{\"uid\":17062463,\"first_name\":\"Ekaterina\",\"last_name\":\"Konstantinova\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628527\\/v628527463\\/3707f\\/HU_OeDke1B4.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448025205,\"platform\":1},\"user_id\":17062463,\"lists\":[25]},{\"uid\":18095021,\"first_name\":\"Александр\",\"last_name\":\"Воробьёв\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625518\\/v625518021\\/1eef5\\/GEqjwKiKsH8.jpg\",\"online\":0,\"status\":\"\\\"Кое-что в этом мире не меняется. Но становится другим? К счастью. Становится другим. \\\" instagram: @borobey\",\"last_seen\":{\"time\":1448031730,\"platform\":2},\"user_id\":18095021,\"lists\":[25]},{\"uid\":18126311,\"first_name\":\"Федор\",\"last_name\":\"Коршиков\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624218\\/v624218311\\/1ec6b\\/fYJTmiRsntY.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034190,\"platform\":2},\"user_id\":18126311,\"lists\":[25]},{\"uid\":18252967,\"first_name\":\"Николай\",\"last_name\":\"Акан\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622329\\/v622329967\\/178e8\\/RDpCCFTmng4.jpg\",\"online\":0,\"status\":\"Демоны любят узнавать новое, особенно если им это выгодно.\",\"last_seen\":{\"time\":1447917487,\"platform\":7},\"universities\":[],\"user_id\":18252967},{\"uid\":18797547,\"first_name\":\"Евгения\",\"last_name\":\"Харламова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625721\\/v625721547\\/54ac3\\/W6vEYtT8WJI.jpg\",\"online\":1,\"status\":\"\",\"last_seen\":{\"time\":1448036105,\"platform\":7},\"user_id\":18797547,\"lists\":[25]},{\"uid\":21540354,\"first_name\":\"Иван\",\"last_name\":\"Юдаев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628722\\/v628722354\\/c3db\\/6D8tciYYP2c.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448031171,\"platform\":3},\"universities\":[{\"id\":238,\"country\":1,\"city\":1,\"name\":\"МИРЭА\",\"faculty\":948,\"faculty_name\":\"Институт информационных технологий\"}],\"user_id\":21540354},{\"uid\":22434825,\"first_name\":\"Георгий\",\"last_name\":\"Кислый\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622622\\/v622622825\\/45bef\\/vIUfYCAkICY.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"IWSN\",\"last_seen\":{\"time\":1448036140,\"platform\":4},\"user_id\":22434825,\"lists\":[25]},{\"uid\":22818407,\"first_name\":\"Вадим\",\"last_name\":\"Смирнов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c617221\\/v617221407\\/1a089\\/g9FaYEgNC6M.jpg\",\"online\":0,\"status\":\"Ex anima animus in anima\",\"last_seen\":{\"time\":1448034126,\"platform\":4},\"universities\":[{\"id\":55111,\"country\":0,\"city\":0,\"name\":\"МФТИ (ГУ) (см. в Москве)\"}],\"user_id\":22818407,\"lists\":[25]},{\"uid\":23582727,\"first_name\":\"Екатерина\",\"last_name\":\"Грачёва\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622224\\/v622224727\\/57c16\\/K-1X-WsAuis.jpg\",\"online\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035973,\"platform\":7},\"user_id\":23582727,\"lists\":[25]},{\"uid\":25549094,\"first_name\":\"Дима\",\"last_name\":\"Сальман\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627631\\/v627631094\\/32fe4\\/jNM_NFPQu04.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448033648,\"platform\":7},\"user_id\":25549094},{\"uid\":25724442,\"first_name\":\"Константин\",\"last_name\":\"Самойлов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c630920\\/v630920442\\/f4\\/Ufg5kYmmHQo.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034448,\"platform\":7},\"user_id\":25724442,\"lists\":[25]},{\"uid\":26815084,\"first_name\":\"Дарья\",\"last_name\":\"Савинова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c621630\\/v621630084\\/2443c\\/BOZ1_wKOIUo.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034673,\"platform\":4},\"user_id\":26815084},{\"uid\":27960207,\"first_name\":\"Лиза\",\"last_name\":\"Гладышева\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629527\\/v629527207\\/308fb\\/eNmztJpDw2I.jpg\",\"online\":0,\"status\":\"a young dreamer\",\"last_seen\":{\"time\":1448033856,\"platform\":2},\"user_id\":27960207},{\"uid\":29635733,\"first_name\":\"Дима\",\"last_name\":\"Таранец\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c620021\\/v620021733\\/1890d\\/8H05hUJWZdo.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035480,\"platform\":4},\"user_id\":29635733},{\"uid\":30603904,\"first_name\":\"Вера\",\"last_name\":\"Белова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c621631\\/v621631904\\/3542e\\/eMY1ytSHiNU.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035423,\"platform\":4},\"user_id\":30603904,\"lists\":[25]},{\"uid\":32031790,\"first_name\":\"Евгений\",\"last_name\":\"Азимов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c425925\\/v425925790\\/1764\\/VAZxfLfDfMk.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448022881,\"platform\":7},\"universities\":[],\"user_id\":32031790},{\"uid\":34530905,\"first_name\":\"Лёва\",\"last_name\":\"Стаховский\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622720\\/v622720905\\/529c5\\/lsakGM7w0zg.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035891,\"platform\":2},\"user_id\":34530905,\"lists\":[25]},{\"uid\":37327420,\"first_name\":\"Санчё\",\"last_name\":\"Волков\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c618122\\/v618122420\\/19e72\\/K5qlUt6SXE0.jpg\",\"online\":0,\"status\":\"Стартовала последняя неделя =)\",\"last_seen\":{\"time\":1447943465,\"platform\":4},\"user_id\":37327420,\"lists\":[25]},{\"uid\":38976106,\"first_name\":\"Алхаст\",\"last_name\":\"Темурзиев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624230\\/v624230106\\/ea5f\\/5Ax14nxgS48.jpg\",\"online\":0,\"status\":\"\\\"А ведь мы даже умереть не можем. Все могут, а нам нельзя. Не то, что сдаться, даже на тот свет, в случае чего, отправиться нельзя\\\"\",\"last_seen\":{\"time\":1446291009,\"platform\":7},\"universities\":[{\"id\":2,\"country\":1,\"city\":1,\"name\":\"МГУ\",\"faculty\":23,\"faculty_name\":\"Вычислительной математики и кибернетики\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (бакалавр)\"}],\"user_id\":38976106,\"lists\":[25]},{\"uid\":44310085,\"first_name\":\"Влад\",\"last_name\":\"Сушкевич\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628130\\/v628130085\\/49c21\\/fCZymPCa02I.jpg\",\"online\":0,\"status_audio\":{\"aid\":354864880,\"owner_id\":7672459,\"artist\":\"Soulero\",\"title\":\"Aura\",\"duration\":277,\"url\":\"https:\\/\\/cs1-50v4.vk-cdn.net\\/p17\\/c225fbb46c10c4.mp3?extra=J4PoeCj6BgGdqTi14mV0XZT0EsHaeEwsPyMcnQUdJnKGD5AyZEKsLRAhC-s-K8cQUVeJwzSu8iv7BDgawL7wsdr05VLV\",\"performer\":\"Soulero\",\"lyrics_id\":\"224186670\",\"album\":\"56914326\",\"genre\":5},\"status\":\"Да прибудет завтра со мной удача:D\",\"last_seen\":{\"time\":1448032386,\"platform\":7},\"universities\":[{\"id\":152980,\"country\":1,\"city\":261,\"name\":\"СибГАУ им. Решетнева (ЖФ)\"}],\"user_id\":44310085},{\"uid\":47022060,\"first_name\":\"Александр\",\"last_name\":\"Комиссаров\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629525\\/v629525060\\/6d29\\/bfWWxsVTFGY.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448030319,\"platform\":7},\"user_id\":47022060,\"lists\":[25]},{\"uid\":49221940,\"first_name\":\"Егор\",\"last_name\":\"Ковреженков\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629523\\/v629523940\\/145c1\\/AdnUIUDOQqk.jpg\",\"online\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035891,\"platform\":7},\"universities\":[{\"id\":238,\"country\":1,\"city\":1,\"name\":\"МГТУ МИРЭА\",\"faculty\":949,\"faculty_name\":\"Институт кибернетики\",\"chair\":1287,\"chair_name\":\"Автоматики и приборостроения\",\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (бакалавр)\"}],\"user_id\":49221940,\"lists\":[25]},{\"uid\":52111017,\"first_name\":\"Сергей\",\"last_name\":\"Воропаев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629327\\/v629327017\\/12a85\\/kDt0LEFLODs.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448032866,\"platform\":2},\"universities\":[{\"id\":2,\"country\":1,\"city\":1,\"name\":\"МГУ\",\"faculty\":23,\"faculty_name\":\"Вычислительной математики и кибернетики\",\"chair\":310,\"chair_name\":\"Исследования операций\\r\\n\",\"graduation\":2016,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (бакалавр)\"}],\"user_id\":52111017,\"lists\":[25]},{\"uid\":52900037,\"first_name\":\"Алиса\",\"last_name\":\"Малахова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624216\\/v624216037\\/48551\\/_uB3oE5k_EE.jpg\",\"online\":1,\"online_app\":\"3502561\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448036056,\"platform\":5},\"user_id\":52900037,\"lists\":[25]},{\"uid\":58974255,\"first_name\":\"Наталия\",\"last_name\":\"Лебедева\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628218\\/v628218255\\/a6b1\\/6aiq6906syw.jpg\",\"online\":0,\"status\":\"Архаичный понедельник в культурной столице Питера\",\"last_seen\":{\"time\":1447969800,\"platform\":7},\"universities\":[{\"id\":238,\"country\":1,\"city\":11,\"name\":\"МИРЭА\",\"faculty\":948,\"faculty_name\":\"Институт информационных технологий\",\"chair\":1808314,\"chair_name\":\"Интеллектуальных технологий и систем\",\"graduation\":2018,\"education_form\":\"Дневное отделение\",\"education_status\":\"Студентка (бакалавр)\"}],\"user_id\":58974255},{\"uid\":62924966,\"first_name\":\"Екатерина\",\"last_name\":\"Корчагина\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627519\\/v627519966\\/7739\\/E_Ygmgq9BrA.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034598,\"platform\":1},\"user_id\":62924966},{\"uid\":65488083,\"first_name\":\"Евгения\",\"last_name\":\"Васильева\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628327\\/v628327083\\/243f2\\/zqVI5Eksl3M.jpg\",\"online\":0,\"status\":\"Всегда и во всем слушай свою правую ягодицу. Это Ягодица Судьбы. А левую не слушай, она все врет!\",\"last_seen\":{\"time\":1448027079,\"platform\":4},\"user_id\":65488083},{\"uid\":67027708,\"first_name\":\"Данила\",\"last_name\":\"Немов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c623431\\/v623431708\\/36eb8\\/2AYTDkgDz6U.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034231,\"platform\":7},\"user_id\":67027708},{\"uid\":84482264,\"first_name\":\"Александр\",\"last_name\":\"Золотухин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c618822\\/v618822264\\/194d1\\/xzxadvdK1oE.jpg\",\"online\":1,\"online_app\":\"2274003\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448036070,\"platform\":4},\"user_id\":84482264},{\"uid\":87805887,\"first_name\":\"Николай\",\"last_name\":\"Батищев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625617\\/v625617887\\/3294c\\/wEHyHKRiGFk.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448035060,\"platform\":1},\"universities\":[{\"id\":250,\"country\":1,\"city\":1,\"name\":\"МГТУ им. Н.Э. Баумана\",\"faculty\":1036,\"faculty_name\":\"Приборостроительный\\r\\n\",\"chair\":22155,\"chair_name\":\"ИУ2\",\"graduation\":2002,\"education_form\":\"Дневное отделение\"}],\"user_id\":87805887},{\"uid\":88283105,\"first_name\":\"Катя\",\"last_name\":\"Агапова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627831\\/v627831105\\/4cc2\\/5Ii1Mw4iJ8E.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448012785,\"platform\":2},\"user_id\":88283105,\"lists\":[25]},{\"uid\":90173029,\"first_name\":\"Анастасия\",\"last_name\":\"Орлова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c412916\\/v412916029\\/c4a8\\/y35vTvVnQtc.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034017,\"platform\":7},\"user_id\":90173029},{\"uid\":102025506,\"first_name\":\"Машка\",\"last_name\":\"Гончаренко\",\"deactivated\":\"deleted\",\"sex\":1,\"photo_200_orig\":\"https:\\/\\/vk.com\\/images\\/deactivated_200.png\",\"online\":0,\"user_id\":102025506},{\"uid\":103979090,\"first_name\":\"Никита\",\"last_name\":\"Видяев\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627327\\/v627327090\\/e216\\/jV247BwV01I.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448033047,\"platform\":1},\"user_id\":103979090},{\"uid\":104068419,\"first_name\":\"Мари\",\"last_name\":\"Новикова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627431\\/v627431419\\/20b41\\/JR0oVMfI3Tw.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"Ребятки, спасибо, что делаете репосты моих заметок с http:\\/\\/vk.com\\/blogmary )))\",\"last_seen\":{\"time\":1448035668,\"platform\":2},\"user_id\":104068419},{\"uid\":105925888,\"first_name\":\"Наталья\",\"last_name\":\"Белова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628826\\/v628826888\\/1514a\\/k2i-fLumM34.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"Добавляйтесь в друзья! Отвечаю в течение суток.Доставка по России 5-12 дней! Оплата при получении!\",\"last_seen\":{\"time\":1448035950,\"platform\":2},\"universities\":[],\"user_id\":105925888},{\"uid\":106874691,\"first_name\":\"Leo\",\"last_name\":\"Capoeıra\",\"deactivated\":\"deleted\",\"sex\":2,\"photo_200_orig\":\"https:\\/\\/vk.com\\/images\\/deactivated_200.png\",\"online\":0,\"user_id\":106874691},{\"uid\":120690260,\"first_name\":\"Богдан\",\"last_name\":\"Борлуцький\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622231\\/v622231260\\/3b1d4\\/uUR-bGHyKNM.jpg\",\"online\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035870,\"platform\":7},\"user_id\":120690260},{\"uid\":143782475,\"first_name\":\"Nathanael\",\"last_name\":\"Morais\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c628817\\/v628817475\\/3d6c\\/MMw65PQ5uSQ.jpg\",\"online\":0,\"status\":\"Capoeira é um diálogo de corpos, eu venço quando o meu parceiro não tem mais respostas para as minhas perguntas\\\"\",\"last_seen\":{\"time\":1448033127,\"platform\":1},\"universities\":[],\"user_id\":143782475},{\"uid\":147094284,\"first_name\":\"Вова\",\"last_name\":\"Колесов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c412219\\/v412219284\\/8066\\/2R9QT3z3K3w.jpg\",\"online\":1,\"online_app\":\"3140623\",\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035889,\"platform\":2},\"universities\":[{\"id\":238,\"country\":1,\"city\":1,\"name\":\"МГТУ МИРЭА\",\"faculty\":949,\"faculty_name\":\"Институт кибернетики\",\"education_form\":\"Дневное отделение\",\"education_status\":\"Студент (бакалавр)\"}],\"user_id\":147094284,\"lists\":[25]},{\"uid\":152246558,\"first_name\":\"Alex\",\"last_name\":\"Bazhenin\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624126\\/v624126558\\/34794\\/PJpkOTAv7lU.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448027885,\"platform\":2},\"user_id\":152246558},{\"uid\":155261787,\"first_name\":\"Natasha\",\"last_name\":\"Kochanova\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c624217\\/v624217787\\/39ff4\\/GPyPSYblCUM.jpg\",\"online\":1,\"online_mobile\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035428,\"platform\":1},\"user_id\":155261787},{\"uid\":168195638,\"first_name\":\"Zverev\",\"last_name\":\"Kirill\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c629310\\/v629310638\\/5873\\/fLu2dIIfGgc.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034575,\"platform\":7},\"user_id\":168195638,\"lists\":[25]},{\"uid\":182410717,\"first_name\":\"Мария\",\"last_name\":\"Сетнерова\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c621627\\/v621627717\\/275a8\\/TvJ3bsw27iQ.jpg\",\"online\":0,\"status\":\"🐼\",\"last_seen\":{\"time\":1447848736,\"platform\":2},\"user_id\":182410717,\"lists\":[25]},{\"uid\":198746025,\"first_name\":\"Александра\",\"last_name\":\"Череватая\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622018\\/v622018025\\/487b9\\/pyAdbh9-eig.jpg\",\"online\":1,\"status\":\"I'm Loved and I Love....I'm RICH ❤\",\"last_seen\":{\"time\":1448035605,\"platform\":7},\"user_id\":198746025},{\"uid\":202520021,\"first_name\":\"Евгений\",\"last_name\":\"Милькин\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c619717\\/v619717021\\/16ae6\\/RljjjFqACtE.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1447991487,\"platform\":4},\"universities\":[],\"user_id\":202520021},{\"uid\":205053452,\"first_name\":\"Ребенок\",\"last_name\":\"Солнца\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c7006\\/v7006452\\/9e1d\\/CCl5fZR6oX4.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1446936263,\"platform\":7},\"user_id\":205053452},{\"uid\":217906496,\"first_name\":\"Максим\",\"last_name\":\"Востриков\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625120\\/v625120496\\/307bc\\/DYKUFC3xZEg.jpg\",\"online\":0,\"status\":\"как говорил Сервантес, португальский язык-сладкий язык)\",\"last_seen\":{\"time\":1428590495,\"platform\":7},\"universities\":[],\"user_id\":217906496},{\"uid\":230581555,\"first_name\":\"Глебанион\",\"last_name\":\"Васильевич\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c623217\\/v623217555\\/53d0c\\/vxgAr0YiMUQ.jpg\",\"online\":0,\"status\":\"If you`re going to San Francisco, be sure to wear some flowers in your hair.\",\"last_seen\":{\"time\":1447897874,\"platform\":7},\"universities\":[],\"user_id\":230581555,\"lists\":[25]},{\"uid\":243109096,\"first_name\":\"Dolly\",\"last_name\":\"Savinova\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c625217\\/v625217096\\/4befe\\/jGktyIWN_hI.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1448034583,\"platform\":4},\"universities\":[],\"user_id\":243109096},{\"uid\":261877975,\"first_name\":\"Анна\",\"last_name\":\"Бразил\",\"sex\":1,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c622626\\/v622626975\\/4029d\\/4P3WMJnWuis.jpg\",\"online\":0,\"status\":\"\",\"last_seen\":{\"time\":1446695473,\"platform\":7},\"universities\":[{\"id\":1,\"country\":1,\"city\":2,\"name\":\"СПбГУ\",\"faculty\":15,\"faculty_name\":\"Филологический\",\"chair\":1806456,\"chair_name\":\"Романской филологии\",\"graduation\":2012}],\"user_id\":261877975},{\"uid\":272753469,\"first_name\":\"Вика\",\"last_name\":\"Бровина\",\"deactivated\":\"banned\",\"sex\":1,\"photo_200_orig\":\"https:\\/\\/vk.com\\/images\\/deactivated_200.png\",\"online\":0,\"user_id\":272753469},{\"uid\":323012581,\"first_name\":\"Геннадий\",\"last_name\":\"Шахов\",\"sex\":2,\"nickname\":\"\",\"photo_200_orig\":\"https:\\/\\/pp.vk.me\\/c627129\\/v627129581\\/145f1\\/Huk6Gi3crDc.jpg\",\"online\":1,\"status\":\"\",\"last_seen\":{\"time\":1448035986,\"platform\":7},\"universities\":[{\"id\":1173072,\"country\":1,\"city\":2,\"name\":\"СПбГЭУ (ранее ФИНЭК, ИНЖЭКОН, СПбГУСЭ)\",\"faculty\":2161998,\"faculty_name\":\"Государственного и муниципального управления и управления персоналом (Управления человеческими ресурсами)\",\"graduation\":2014}],\"user_id\":323012581}]}";
    std::cout << method << std::endl;
    return res;
}

void networking::setup() {
    output.clear();
    curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, WriteMemoryCallback);
    curl_easy_setopt(curl, CURLOPT_WRITEDATA, reinterpret_cast<void *>(&output));
    curl_easy_setopt(curl, CURLOPT_URL, method.c_str());
}


size_t networking::WriteMemoryCallback(char *ptr, size_t size, size_t nmemb, void *data)
{
    size_t realsize = size * nmemb;
    std::string * str = reinterpret_cast<std::string *>(data);
    str->append(ptr, realsize);
    return realsize;
}

requestEntity * networking::searchNextRequest() {
    for (auto i : ownVector->dataVector)
        if (i != NULL)
            if (i->state == stateType::validated) {
                return i;
            }
    return NULL;
}

void * networking::Loop() {
    clock_gettime(CLOCK_REALTIME, &spec);
    ms = (spec.tv_nsec / 1.0e6 ) + spec.tv_sec * 1000 + 800;
    while (options->networking->needed) {
        printf("Loop\n");
        waitToNextSecond();
        for (int i = 0; i < 3; ++i)
        {
            if (i == 0)
            {
                clock_gettime(CLOCK_REALTIME, &spec);
                ms = (spec.tv_nsec / 1.0e6 ) + spec.tv_sec * 1000;
            };
            if ((tempRequestEntity = searchNextRequest()) != NULL) {
                tempRequestEntity->state = stateType::in_networking;
                request(tempRequestEntity);
                tempRequestEntity->responseEntity->rawResponse = output;
                std::cout << output.max_size() << "\t" << output.capacity() << "\n";
                tempRequestEntity->state = stateType::responsed;
                *counterWaitingRequests--;


            };
        };
    };
};

void networking::waitToNextSecond() {
    long newMS = ms;
    while ((newMS - ms ) < 1000) {
        clock_gettime(CLOCK_REALTIME, &spec);
        newMS = ( spec.tv_nsec / 1.0e6 ) + spec.tv_sec * 1000;
        options->sleep(100);
    };
}
